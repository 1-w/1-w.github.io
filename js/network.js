$(function(){function k(){z=p.clientWidth/canvas.width;A=p.clientHeight/canvas.height;canvas=createHiDPICanvas(0<window.innerWidth?window.innerWidth:p.clientWidth,0<window.innerHeight?window.innerHeight:p.clientHeight);for(var a=z,b=A,c=0;c<d.length;c++)for(var e=0;e<d[c].length;e++)d[c][e].x*=a,d[c][e].y*=b,d[c][e].goalX=0,d[c][e].goalY=0}function q(){if(!m){for(i=w=0;i<d.length;i++)w+=d[i].length;tmp=g(1,100);tmp<Math.max(5,w/10)&&(layerID=g(1,LayerSize.length-1)-1,f.push(new B(layerID,layerID+
1,g(1,LayerSize[layerID])-1,g(0,d[layerID+1].length-1))));H();I();J();if(0<h.length)for(t&&(h.splice(0,1E3),C(),t=!1),i=0;i<h.length;i++)L=Math.max(canvas.width,canvas.height),dist=x(d[h[i].layerID][h[i].startID],e[0]),thick=dist>.2*L?0:dist<.02*L?3:Math.sqrt(.2*L/Math.max(.02*L,dist)-1),h[i].thickness=thick;ctx.clearRect(0,0,canvas.width,canvas.height);K();M();N();0!=e.length&&(ctx.globalAlpha=1,D(e[0],"#FF6D00"),ctx.globalAlpha=.8);O()}setTimeout(function(){requestAnimationFrame(q)},1E3/60)}function n(a){neuron1=
new E(a.clientX,a.clientY,1);e.push(neuron1);F(a);C()}function F(a){e[0].x=a.clientX;e[0].y=a.clientY;for(i=1;i<u-2;i++){if(e[0].y<P*i){e[0].layer=i;v!=e[0].layer&&(v=$.extend({},e[0].layer),t=!0);break}e[0].layer=u-2;v!=e[0].layer&&(v=$.extend({},e[0].layer),t=!0)}}function C(){currLayer=e[0].layer;for(j=0;j<d[currLayer-1].length;j++)synapseIn=new y(currLayer-1,j,0),h.push(synapseIn);for(l=0;l<d[currLayer+1].length;l++)synapseOut=new y(currLayer+1,l,0),h.push(synapseOut)}function E(a,b,c){this.x=
a;this.y=b;this.layer=this.connections=this.goalY=this.goalX=0;this.moving=!0}function D(a,b){ctx.fillStyle=b;ctx.strokeStyle=b;ctx.lineWidth=.1;ctx.beginPath();ctx.arc(a.x,a.y,.1,0,2*Math.PI,!1);ctx.closePath();ctx.fill();ctx.stroke()}function y(a,b,c){this.layerID=a;this.startID=b;this.endID=c;this.thickness=1}function G(){r=[];for(var a=0;a<d.length-1;a++)for(var b=0;b<d[a].length;b++)for(var c=0;c<d[a+1].length;c++)synapse1=new y(a,b,c),r.push(synapse1)}function B(a,b,c,d){this.startLayer=a;this.destLayer=
b;this.startID=c;this.endID=d;this.percent=0;this.speed=g(1,4);this.delay=g(1,5);this.arrived=this.started=!1;this.thickness=.1;this.alpha=.5}function H(){for(var a=0;a<d.length;a++)for(var b=0;b<d[a].length;b++){var c=d[a][b];if(c.moving){if(0==c.goalX||.1>Math.abs(c.goalX-c.x))c.goalX=g(c.x-.05*canvas.width,c.x+.05*canvas.width),c.goalY=g(c.y-.05*canvas.height,c.y+.05*canvas.height);.1>c.x&&(c.goalX=g(5,15)/100*canvas.width);c.x>canvas.width-.1&&(c.goalX=g(85,95)/100*canvas.width);.1>c.y&&(c.goalY=
g(5,15)/100*canvas.height);c.y>canvas.height-.1&&(c.goalY=g(85,95)/100*canvas.height);direction_x=c.goalX-c.x;direction_y=c.goalY-c.y;c.x+=.01*direction_x;c.y+=.01*direction_y}}}function I(){for(var a=0;a<r.length;a++){var b=r[a];L=Math.max(canvas.width,canvas.height);dist=x(d[b.layerID][b.startID],d[b.layerID+1][b.endID]);thick=dist>.2*L?0:dist<.02*L?3:Math.sqrt(.2*L/Math.max(.02*L,dist)-1);b.thickness=4/3*thick}}function J(){for(var a=f.length-1;0<=a;a--){var b=f[a];L=Math.max(canvas.width,canvas.height);
dist=x(d[b.startLayer][b.startID],d[b.destLayer][b.endID]);thick=dist>.2*L?0:dist<.02*L?3:Math.sqrt(.2*L/Math.max(.02*L,dist)-1);b.thickness=thick;0!=b.thickness&&(.01<b.delay?b.delay-=1/60:(b.started=!0,100<=b.percent?b.arrived=!0:(b.percent+=100*b.speed/60,b.alpha=.5-b.percent*b.percent*b.percent*b.percent*b.percent*b.percent/2E12)));0==f[a].thickness?f.splice(a,1):f[a].arrived&&(f[a].destLayer==u-1?f.splice(a,1):(tmp=g(1,10),tmp=10>tmp||1==f[a].destLayer?1:-1,signal1=$.extend(!0,{},new B(f[a].destLayer,
f[a].destLayer+tmp,f[a].endID,g(0,d[Math.max(1,f[a].destLayer+tmp)].length-1))),f.splice(a,1,signal1)))}}function K(){for(var a=0;a<d.length;a++)for(var b=0;b<d[a].length;b++)D(d[a][b],"#212121")}function M(){for(var a=0;a<r.length;a++){var b=r[a];0!=b.thickness&&(ctx.lineWidth=b.thickness,ctx.beginPath(),ctx.moveTo(d[b.layerID][b.startID].x,d[b.layerID][b.startID].y),ctx.lineTo(d[b.layerID+1][b.endID].x,d[b.layerID+1][b.endID].y),ctx.strokeStyle="#212121",ctx.globalAlpha=.8,ctx.stroke())}}function N(){for(var a=
f.length-1;0<=a;a--)if(f[a].started&&0!=f[a].thickness){var b=f[a];if(0!=b.thickness){var c=b.percent/100;dt=yPos=0*Math.abs(Math.pow(1-c,3))+3*Math.pow(1-c,2)*c*.05+3*Math.abs(1-c)*Math.pow(c,2)*.98+1*Math.abs(Math.pow(c,3));dx=dt*(d[b.destLayer][b.endID].x-d[b.startLayer][b.startID].x);dy=dt*(d[b.destLayer][b.endID].y-d[b.startLayer][b.startID].y);color="rgba(255,255,255, "+b.alpha+")";ctx.fillStyle=color;ctx.strokeStyle=color;ctx.lineWidth=b.thickness/4;ctx.beginPath();ctx.arc(d[b.startLayer][b.startID].x+
dx,d[b.startLayer][b.startID].y+dy,b.thickness/4,0,2*Math.PI,!1);ctx.closePath();ctx.fill();ctx.stroke()}}}function O(){if(0<h.length)for(var a=0;a<h.length;a++){var b=h[a];if(0!=b.thickness){var c=ctx.createLinearGradient(e[0].x,e[0].y,d[b.layerID][b.startID].x,d[b.layerID][b.startID].y);c.addColorStop(0,"#FF6D00");c.addColorStop(1,"#473120");ctx.lineWidth=b.thickness;ctx.beginPath();ctx.moveTo(d[b.layerID][b.startID].x,d[b.layerID][b.startID].y);ctx.lineTo(e[0].x,e[0].y);ctx.strokeStyle=c;ctx.stroke()}}}
function x(a,b){dx=b.x-a.x;dy=b.y-a.y;return dist=Math.sqrt(dx*dx+dy*dy)}function g(a,b){return Math.floor(Math.random()*(b-a+1)+a)}$(".play-button").click(function(){(m=!m)?document.getElementById("playpause").innerHTML="play_arrow":document.getElementById("playpause").innerHTML="pause"});$("#typed1").typed({strings:[" scientist^100"," creator^100"," dreamer^100.^200.^300.^",""],typeSpeed:30,startDelay:500,shuffle:!1,backDelay:1E3,loopCount:0,callback:function(){document.getElementsByClassName("typed-cursor")[0].remove();
$("#typed2").typed({strings:["n "],callback:function(){document.getElementsByClassName("typed-cursor")[0].remove();$("#typed3").typed({strings:["engineer^500."],typeSpeed:30,startDelay:10,shuffle:!1,loopCount:0,callback:function(){var a=document.getElementsByClassName("typed-cursor")[0];setTimeout(function(){a.remove()},100)}})}})}});var Q=function(){var a=document.getElementById("canvas").getContext("2d");return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||
a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)}();createHiDPICanvas=function(a,b,c){c||(c=Q);var d=document.getElementById("canvas");d.width=a*c;d.height=b*c;d.style.width=a+"px";d.style.height=b+"px";d.getContext("2d").setTransform(c,0,0,c,0,0);return d};canvas=document.getElementById("canvas");ctx=canvas.getContext("2d");ctx.translate(.5,.5);ctx.globalAlpha=.2;var p=document.getElementById("container");addEvent(window,"resize",function(a){k()});var m=!1,A=p.clientHeight/
canvas.height,z=p.clientWidth/canvas.width;canvas.addEventListener("touchstart",function(a){console.log("touchstart")},!1);canvas.addEventListener("touchend",function(a){console.log("touchend");a=new MouseEvent("mouseup",{});canvas.dispatchEvent(a);e.splice(0,1);h.splice(0,1E3)},!1);canvas.addEventListener("touchmove",function(a){a=a.touches[0];a=new MouseEvent("mousemove",{clientX:a.clientX,clientY:a.clientY});canvas.dispatchEvent(a)},!1);canvas.onmousein=function(a){m||n(a)};canvas.onmousemove=
function(a){m||(0==e.length?n(a):F(a))};canvas.onmouseout=function(a){m||(e.splice(0,1),h.splice(0,1E3))};canvas.onmouseup=function(a){m||(0==e.length?n(a):(prevNeuron=$.extend(!0,{},e[0]),prevNeuron.goalX=prevNeuron.x+.17,prevNeuron.goalY=prevNeuron.y+.17,prevNeuron.moving=!0,d[prevNeuron.layer].push(prevNeuron),G()))};ctx.imageSmoothingEnabled=!0;(function(a){a.style.width="100%";a.style.height="100%";a.width=a.offsetWidth;a.height=a.offsetHeight})(canvas);var e=[],h=[],d=[[],[],[],[],[],[]],r=
[],f=[],v=0,t=!0,w=0;LayerSize=[5,30,5,20,20,5];var u=d.length,P=canvas.height/(u-2);for(j=0;j<LayerSize.length;j++)for(i=0;i<LayerSize[j];i++)neuron1=$.extend(!0,{},new E(g(1,LayerSize[j])*(1/LayerSize[j])*canvas.width,1/LayerSize.length*(j+.5)*canvas.height,j)),neuron1.moving=!0,d[j].push(neuron1);G();k();q()});var addEvent=function(k,q,n){null!=k&&"undefined"!=typeof k&&(k.addEventListener?k.addEventListener(q,n,!1):k.attachEvent?k.attachEvent("on"+q,n):k["on"+q]=n)};