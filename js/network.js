$(function(){canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),ctx.translate(.5,.5);var a=!(ctx.globalAlpha=.2),e=60,o=!1,n=document.getElementById("canvas-container"),s=n.clientHeight/canvas.height,c=n.clientWidth/canvas.width;ctx.imageSmoothingEnabled=!0,function(t){t.style.width="100%",t.style.height="100%",t.width=t.offsetWidth,t.height=t.offsetHeight,x=!(t.width<800);I=t.height<600||t.width<800}(canvas);var r=[],h=[],d=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],v=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],w=[],u=[],g=0,y=!0,f=0;LayerSize=[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10];var m=d.length,p=canvas.height/(m-2),x=!1;800<canvas.width&&(x=!0);var I=!1;for(canvas.height<600&&(I=!0),j=0;j<LayerSize.length;j++)for(i=0;i<LayerSize[j];i++)neuron1=$.extend(!0,{},new B((R(1,LayerSize[j])-.5)*(1/LayerSize[j])*canvas.width,0,(j+.5)*(1/LayerSize.length)*canvas.height,0,j)),neuron1.moving=!0,d[j].push(neuron1);Y(),function t(){if(!a){for(f=0,i=0;i<d.length;i++)f+=d[i].length;tmp=R(1,100),tmp<Math.max(5,f/10)&&(layerID=R(1,LayerSize.length-1)-1,u.push(new z(layerID,layerID+1,R(1,LayerSize[layerID])-1,R(0,d[layerID+1].length-1)))),function(){for(var t=0;t<d.length;t++)for(var a=0;a<d[t].length;a++)S(d[t][a])}(),function(){for(var t=0;t<w.length;t++)T(w[t])}(),function(){for(var t=u.length-1;0<=t;t--)W(u[t]),0==u[t].thickness?u.splice(t,1):u[t].arrived&&(u[t].destLayer==m-1?u.splice(t,1):(tmp=R(1,10),tmp<10||1==u[t].destLayer?tmp=1:tmp=-1,signal1=$.extend(!0,{},new z(u[t].destLayer,u[t].destLayer+tmp,u[t].endID,R(0,d[Math.max(1,u[t].destLayer+tmp)].length-1))),u.splice(t,1,signal1)))}(),function(){if(0<h.length)for(y&&(h.splice(0,1e3),M(),y=!1),i=0;i<h.length;i++)L=Math.max(canvas.width,canvas.height),dist=H(d[h[i].layerID][h[i].startID],r[0]),dist>.2*L?thick=0:dist<.02*L?thick=3:thick=Math.sqrt(.2*L/Math.max(.02*L,dist)-1),h[i].thickness=thick}(),ctx.clearRect(0,0,canvas.width,canvas.height),function(){for(var t=0;t<d.length;t++)for(var a=0;a<d[t].length;a++)C(d[t][a],"#212121")}(),function(){for(var t=0;t<w.length;t++)P(w[t],"#212121")}(),function(){for(var t=u.length-1;0<=t;t--)u[t].started&&0!=u[t].thickness&&F(u[t])}(),0!=r.length&&(ctx.globalAlpha=1,C(r[0],"#FF6D00"),ctx.globalAlpha=.8),function(){if(0<h.length)for(var t=0;t<h.length;t++)N(h[t],"#FF6D00","#473120")}()}setTimeout(function(){requestAnimationFrame(t)},1e3/e)}(),$(document.getElementById("about-me")).click(function(){document.getElementById("about-me").getElementsByTagName("i");var t=document.getElementById("main-container"),a=document.getElementById("header-container"),e=(document.getElementsByClassName("row")[0],document.getElementById("about-me-div")),n=document.getElementById("divider"),s=document.getElementById("about-me-symb");o?(x?function(){for(console.log(d[2][2],v[2][2],Object.keys(v).length),i=0;i<Object.keys(v).length;i++){for(j=0;j<v[i].length;j++)d[i].length>j?(d[i][j].goalX=v[i][j].goalX,d[i][j].goalY=v[i][j].goalY,d[i][j].moving=!0,d[i][j].speed=.1):(0==d[i].length?neuron1=$.extend(!0,{},new B(d[0][j].x,v[i][j].goalX,d[0][j].y,v[i][j].goalY,v[i][j].layer)):neuron1=$.extend(!0,{},new B(d[i][j-1].x,v[i][j].goalX,d[i][j-1].y,v[i][j].goalY,v[i][j].layer)),neuron1.moving=!0,neuron1.speed=.1,d[i].push(neuron1));d[i].splice(v[i].length,1e3)}console.log(d[2][2],v[2][2]),o=!1,Y(),u.splice(0,u.length)}():o=!1,$(s).toggleClass("fa-bars fa-arrow-left"),setTimeout(function(){$(a).css("top","50%"),x&&$(t).css("left","50%"),$(e).css("top","calc(50vh + 25px)")},500),setTimeout(function(){$(a).css("max-height","calc(3*(12px + 2vw))")},200),setTimeout(function(){$(n).css("visibility","hidden")},200),$(n).css("animation","disappear 200ms"),$(e).css("visibility","hidden"),$(e).css("animation","disappear 300ms"),$(t).toggleClass("ease-in ease-out"),$(a).toggleClass("ease-in ease-out")):(x&&$(t).css("left","30%"),$(s).toggleClass("fa-bars fa-arrow-left"),$(a).css("top","calc(50px + 10vh + 5vw)"),$(e).css("top","calc(10px)"),setTimeout(function(){$(a).css("max-height","500px")},200),setTimeout(function(){$(n).css("visibility","visible"),$(n).css("animation","appear 300ms")},400),setTimeout(function(){$(e).css("visibility","visible"),$(e).css("animation","appear 300ms"),$(document.getElementById("about-me")).hover=!1},600),$(t).toggleClass("ease-in ease-out"),$(a).toggleClass("ease-in ease-out"),x?function(){for(ratio=Math.min(canvas.width/1365,canvas.height/800),tmpFaceNeurons=[[1119*ratio,572*ratio,0],[950*canvas.width/1365,535*ratio,0],[986*canvas.width/1365,563*ratio,0],[1021*canvas.width/1365,565*ratio,0],[1062*canvas.width/1365,543*ratio,0],[1024*canvas.width/1365,536*ratio,0],[1008*canvas.width/1365,540*ratio,0],[991*canvas.width/1365,532*ratio,0],[838*canvas.width/1365,181*ratio,1],[791*canvas.width/1365,201*ratio,1],[765*canvas.width/1365,316*ratio,1],[752*canvas.width/1365,387*ratio,1],[1111*canvas.width/1365,672*ratio,1],[978*canvas.width/1365,536*ratio,1],[991*canvas.width/1365,547*ratio,1],[1021*canvas.width/1365,566*ratio,1],[1040*canvas.width/1365,563*ratio,1],[967*canvas.width/1365,547*ratio,1],[787*canvas.width/1365,376*ratio,2],[838*canvas.width/1365,250*ratio,2],[926*canvas.width/1365,181*ratio,2],[959*canvas.width/1365,740*ratio,2],[1066*canvas.width/1365,541*ratio,2],[962*canvas.width/1365,175*ratio,3],[883*canvas.width/1365,221*ratio,3],[861*canvas.width/1365,258*ratio,3],[841*canvas.width/1365,313*ratio,3],[813*canvas.width/1365,398*ratio,3],[829*canvas.width/1365,469*ratio,3],[997*canvas.width/1365,167*ratio,3],[1080*canvas.width/1365,169*ratio,3],[1128*canvas.width/1365,208*ratio,3],[1053*canvas.width/1365,764*ratio,3],[910*canvas.width/1365,679*ratio,3],[1008*canvas.width/1365,649*ratio,4],[910*canvas.width/1365,579*ratio,4],[875*canvas.width/1365,511*ratio,4],[867*canvas.width/1365,435*ratio,4],[871*canvas.width/1365,359*ratio,4],[889*canvas.width/1365,291*ratio,4],[928*canvas.width/1365,244*ratio,4],[992*canvas.width/1365,223*ratio,4],[1027*canvas.width/1365,219*ratio,4],[1091*canvas.width/1365,214*ratio,4],[1033*canvas.width/1365,775*ratio,4],[1067*canvas.width/1365,750*ratio,4],[1118*canvas.width/1365,372*ratio,4],[1059*canvas.width/1365,376*ratio,4],[1090*canvas.width/1365,362*ratio,4],[1097*canvas.width/1365,378*ratio,4],[953*canvas.width/1365,230*ratio,5],[880*canvas.width/1365,306*ratio,5],[864*canvas.width/1365,412*ratio,5],[882*canvas.width/1365,542*ratio,5],[949*canvas.width/1365,621*ratio,5],[974*canvas.width/1365,642*ratio,5],[934*canvas.width/1365,718*ratio,5],[1124*canvas.width/1365,643*ratio,5],[1083*canvas.width/1365,374*ratio,5],[1079*canvas.width/1365,363*ratio,5],[1101*canvas.width/1365,587*ratio,6],[1145*canvas.width/1365,460*ratio,6],[1147*canvas.width/1365,353*ratio,6],[1136*canvas.width/1365,257*ratio,6],[1052*canvas.width/1365,218*ratio,6],[1068*canvas.width/1365,104*ratio,6],[1156*canvas.width/1365,156*ratio,6],[1227*canvas.width/1365,284*ratio,6],[1241*canvas.width/1365,404*ratio,6],[1095*canvas.width/1365,216*ratio,7],[1143*canvas.width/1365,280*ratio,7],[1149*canvas.width/1365,352*ratio,7],[1027*canvas.width/1365,220*ratio,7],[1151*canvas.width/1365,409*ratio,7],[1138*canvas.width/1365,491*ratio,7],[1135*canvas.width/1365,525*ratio,7],[1108*canvas.width/1365,580*ratio,7],[1067*canvas.width/1365,626*ratio,7],[1009*canvas.width/1365,652*ratio,7],[1222*canvas.width/1365,423*ratio,7],[1205*canvas.width/1365,231*ratio,7],[979*canvas.width/1365,116*ratio,7],[902*canvas.width/1365,150*ratio,7],[1123*canvas.width/1365,565*ratio,7],[930*canvas.width/1365,106*ratio,8],[1170*canvas.width/1365,421*ratio,8],[1181*canvas.width/1365,293*ratio,8],[1111*canvas.width/1365,168*ratio,8],[914*canvas.width/1365,370*ratio,8],[945*canvas.width/1365,362*ratio,8],[1116*canvas.width/1365,113*ratio,9],[1191*canvas.width/1365,155*ratio,9],[1261*canvas.width/1365,339*ratio,9],[1267*canvas.width/1365,444*ratio,9],[1217*canvas.width/1365,533*ratio,9],[1184*canvas.width/1365,522*ratio,9],[901*canvas.width/1365,371*ratio,9],[938*canvas.width/1365,361*ratio,9],[953*canvas.width/1365,374*ratio,9],[1150*canvas.width/1365,347*ratio,10],[1150*canvas.width/1365,147*ratio,10],[1150*canvas.width/1365,147*ratio,10],[750*canvas.width/1365,247*ratio,10],[850*canvas.width/1365,100*ratio,10],[1050*canvas.width/1365,100*ratio,10],[950*canvas.width/1365,100*ratio,10],[971*canvas.width/1365,472*ratio,11],[977*canvas.width/1365,494*ratio,11],[997*canvas.width/1365,388*ratio,11],[975*canvas.width/1365,373*ratio,12],[996*canvas.width/1365,398*ratio,12],[987*canvas.width/1365,442*ratio,12],[970*canvas.width/1365,478*ratio,12],[974*canvas.width/1365,497*ratio,12],[988*canvas.width/1365,491*ratio,12],[1008*canvas.width/1365,503*ratio,12],[1024*canvas.width/1365,499*ratio,12],[1039*canvas.width/1365,494*ratio,12],[1053*canvas.width/1365,497*ratio,12],[1054*canvas.width/1365,473*ratio,12],[1050*canvas.width/1365,464*ratio,12],[919*canvas.width/1365,529*ratio,12],[1094*canvas.width/1365,533*ratio,12],[1068*canvas.width/1365,394*ratio,14],[1071*canvas.width/1365,408*ratio,14],[1091*canvas.width/1365,410*ratio,14],[1094*canvas.width/1365,394*ratio,14],[1050*canvas.width/1365,405*ratio,15],[1070*canvas.width/1365,409*ratio,15],[1088*canvas.width/1365,411*ratio,15],[1106*canvas.width/1365,404*ratio,15],[1095*canvas.width/1365,394*ratio,15],[1081*canvas.width/1365,392*ratio,15],[1066*canvas.width/1365,395*ratio,15],[1050*canvas.width/1365,406*ratio,15],[949*canvas.width/1365,399*ratio,18],[940*canvas.width/1365,387*ratio,18],[943*canvas.width/1365,406*ratio,18],[915*canvas.width/1365,398*ratio,19],[926*canvas.width/1365,392*ratio,19],[941*canvas.width/1365,390*ratio,19],[954*canvas.width/1365,391*ratio,19],[973*canvas.width/1365,401*ratio,19],[950*canvas.width/1365,404*ratio,19],[931*canvas.width/1365,403*ratio,19],[916*canvas.width/1365,399*ratio,19]],faceNeurons=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],v=$.extend(!0,{},d),console.log(v),i=0;i<tmpFaceNeurons.length;i++)faceNeurons[tmpFaceNeurons[i][2]].push(tmpFaceNeurons[i]);for(i=0;i<faceNeurons.length;i++){for(j=0;j<faceNeurons[i].length;j++)d[i].length>j?(d[i][j].goalX=faceNeurons[i][j][0],d[i][j].goalY=faceNeurons[i][j][1],d[i][j].speed=.1):(neuron1=$.extend(!0,{},new B(d[i][j-1].x,faceNeurons[i][j][0],d[i][j-1].y,faceNeurons[i][j][1],faceNeurons[i][j][2])),neuron1.speed=.1,neuron1.moving=!0,d[i].push(neuron1));d[i].splice(faceNeurons[i].length,1e3)}o=!0,Y(),u.splice(0,u.length)}():o=!0)}),$(document.getElementsByClassName("btn_social")).hover(function(){$(this).toggleClass("shadow-5")}),$(document.getElementsByClassName("btn_play")).hover(function(){$(this).toggleClass("shadow-3")}),$(".play_button").click(function(){a=!a,document.getElementById("playpause").className=a?"fa fa-fw fa-play":"fa fa-fw fa-pause"}),$("#typed1").typed({strings:[" scientist^100","n observer^100","n explorer^100"," fisherman^100"," thinker^100"," dreamer^100.^200.^300.^",""],typeSpeed:30,startDelay:500,shuffle:!1,backDelay:1e3,loopCount:0,callback:function(){document.getElementsByClassName("typed-cursor")[0].remove(),$("#typed2").typed({strings:["n "],callback:function(){document.getElementsByClassName("typed-cursor")[0].remove(),$("#typed3").typed({strings:["engineer^500."],typeSpeed:30,startDelay:10,shuffle:!1,loopCount:0,callback:function(){var t=document.getElementsByClassName("typed-cursor")[0];setTimeout(function(){t.remove()},100)}})}})}});var t,k=(t=document.getElementById("canvas").getContext("2d"),(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1));function D(){c=n.clientWidth/canvas.width,s=n.clientHeight/canvas.height,canvas=createHiDPICanvas(0<window.innerWidth?window.innerWidth:n.clientWidth,0<window.innerHeight?window.innerHeight:n.clientHeight),function(t,a){for(var i=0;i<d.length;i++)for(var e=0;e<d[i].length;e++)d[i][e].x=d[i][e].x*t,d[i][e].y=d[i][e].y*a,d[i][e].goalX=0,d[i][e].goalY=0}(c,s),x=!(canvas.width<800),I=canvas.height<600||canvas.width<800;var t=document.getElementById("about-me-div");I&&$(t).css("overflow-y","scroll")}function b(t){neuron1=new B(t.clientX,0,t.clientY,0,1),r.push(neuron1),E(t),M()}function E(t){for(r[0].x=t.clientX,r[0].y=t.clientY,i=1;i<m-2;i++){if(r[0].y<p*i)return r[0].layer=i,g!=r[0].layer&&(g=$.extend({},r[0].layer),y=!0),0;r[0].layer=m-2,g!=r[0].layer&&(g=$.extend({},r[0].layer),y=!0)}}function M(){if(currLayer=r[0].layer,0<currLayer)for(j=0;j<d[currLayer-1].length;j++)synapseIn=new X(currLayer-1,j,0),h.push(synapseIn);if(currLayer<d.length-1)for(l=0;l<d[currLayer+1].length;l++)synapseOut=new X(currLayer+1,l,0),h.push(synapseOut)}function N(t,a,i){if(0!=t.thickness){var e=ctx.createLinearGradient(r[0].x,r[0].y,d[t.layerID][t.startID].x,d[t.layerID][t.startID].y);e.addColorStop(0,a),e.addColorStop(1,i),ctx.lineWidth=t.thickness,ctx.beginPath(),ctx.moveTo(d[t.layerID][t.startID].x,d[t.layerID][t.startID].y),ctx.lineTo(r[0].x,r[0].y),ctx.strokeStyle=e,ctx.stroke()}}function B(t,a,i,e,n){this.x=t,this.y=i,this.goalX=a,this.goalY=e,this.connections=0,this.layer=n,this.moving=!0,this.speed=.01}function S(t){if(t.moving){if(0==t.goalX||Math.abs(t.goalX-t.x)<.1)if(t.speed=.01,o){var a=t.layer;if(19==a||18==a||-17==a||-16==a||15==a||14==a||-13==a||12==a||11==a||-10==a||9==a||8==a||7==a||6==a||5==a||4==a||3==a||2==a||1==a||0==a)return t.moving=!1,0;t.goalX=R(t.x-.05*canvas.width,t.x+.05*canvas.width),t.goalY=R(t.y-.05*canvas.height,t.y+.05*canvas.height)}else t.goalX=R(t.x-.05*canvas.width,t.x+.05*canvas.width),t.goalY=R(t.y-.05*canvas.height,t.y+.05*canvas.height);t.x<.1&&(t.goalX=R(5,15)/100*canvas.width),t.x>canvas.width-.1&&(t.goalX=R(85,95)/100*canvas.width),t.y<.1&&(t.goalY=R(5,15)/100*canvas.height),t.y>canvas.height-.1&&(t.goalY=R(85,95)/100*canvas.height),direction_x=t.goalX-t.x,direction_y=t.goalY-t.y,t.x=t.x+(o?Math.min(t.speed,.1):Math.max(t.speed,.01))*direction_x,t.y=t.y+(o?Math.min(t.speed,.1):Math.max(t.speed,.01))*direction_y}}function C(t,a){ctx.fillStyle=a,ctx.strokeStyle=a,ctx.lineWidth=.1,ctx.beginPath(),ctx.arc(t.x,t.y,.1,0,2*Math.PI,!1),ctx.closePath(),ctx.fill(),ctx.stroke()}function X(t,a,i){this.layerID=t,this.startID=a,this.endID=i,this.thickness=1}function P(t,a){0!=t.thickness&&(ctx.lineWidth=t.thickness,ctx.beginPath(),ctx.moveTo(d[t.layerID][t.startID].x,d[t.layerID][t.startID].y),ctx.lineTo(d[t.layerID+1][t.endID].x,d[t.layerID+1][t.endID].y),ctx.strokeStyle=a,ctx.globalAlpha=.8,ctx.stroke())}function Y(){w=[];for(var t=0;t<d.length-1;t++)for(var a=0;a<d[t].length;a++)for(var i=0;i<d[t+1].length;i++)synapse1=new X(t,a,i),w.push(synapse1)}function T(t){L=Math.max(canvas.width,canvas.height),dist=H(d[t.layerID][t.startID],d[t.layerID+1][t.endID]),dist>.2*L?thick=0:dist<.02*L?thick=3:thick=Math.sqrt(.2*L/Math.max(.02*L,dist)-1),t.thickness=4/3*thick}function z(t,a,i,e){this.startLayer=t,this.destLayer=a,this.startID=i,this.endID=e,this.percent=0,this.speed=R(1,4),this.delay=R(1,5),this.started=!1,this.arrived=!1,this.thickness=.1,this.alpha=.5}function W(t){L=Math.max(canvas.width,canvas.height);try{dist=H(d[t.startLayer][t.startID],d[t.destLayer][t.endID])}catch(t){}return dist>.2*L?thick=0:dist<.02*L?thick=3:thick=Math.sqrt(.2*L/Math.max(.02*L,dist)-1),t.thickness=thick,0==t.thickness?0:.01<t.delay?(t.delay-=1/e,0):(t.started=!0,100<=t.percent?(t.arrived=!0,0):(t.percent+=100*t.speed/e,void(t.alpha=.5-t.percent*t.percent*t.percent*t.percent*t.percent*t.percent/2e12)))}function F(t){try{0!=t.thickness&&(dt=(a=0,i=.05,e=.98,n=1,s=t.percent/100,yPos=Math.abs(Math.pow(1-s,3))*a+3*Math.pow(1-s,2)*s*i+3*Math.abs(1-s)*Math.pow(s,2)*e+Math.abs(Math.pow(s,3))*n,yPos),dx=dt*(d[t.destLayer][t.endID].x-d[t.startLayer][t.startID].x),dy=dt*(d[t.destLayer][t.endID].y-d[t.startLayer][t.startID].y),color="rgba(255,255,255, "+t.alpha+")",ctx.fillStyle=color,ctx.strokeStyle=color,ctx.lineWidth=t.thickness/4,ctx.beginPath(),ctx.arc(d[t.startLayer][t.startID].x+dx,d[t.startLayer][t.startID].y+dy,t.thickness/4,0,2*Math.PI,!1),ctx.closePath(),ctx.fill(),ctx.stroke())}catch(t){}var a,i,e,n,s}function H(t,a){return dx=a.x-t.x,dy=a.y-t.y,dist=Math.sqrt(dx*dx+dy*dy),dist}function R(t,a){return Math.floor(Math.random()*(a-t+1)+t)}createHiDPICanvas=function(t,a,i){i||(i=k);var e=document.getElementById("canvas");return e.width=t*i,e.height=a*i,e.style.width=t+"px",e.style.height=a+"px",e.getContext("2d").setTransform(i,0,0,i,0,0),e},D(),addEvent(window,"resize",function(t){D()}),canvas.addEventListener("touchstart",function(t){t.touches[0]},!1),canvas.addEventListener("touchend",function(t){var a=new MouseEvent("mouseup",{});canvas.dispatchEvent(a),r.splice(0,1),h.splice(0,1e3)},!1),canvas.addEventListener("touchmove",function(t){var a=t.touches[0],i=new MouseEvent("mousemove",{clientX:a.clientX,clientY:a.clientY});canvas.dispatchEvent(i)},!1),canvas.onmousein=function(t){a||b(t)},canvas.onmousemove=function(t){a||(0==r.length?b(t):E(t))},canvas.onmouseout=function(t){a||(r.splice(0,1),h.splice(0,1e3))},canvas.onmouseup=function(t){a||(0==r.length?b(t):(prevNeuron=$.extend(!0,{},r[0]),prevNeuron.goalX=prevNeuron.x+.17,prevNeuron.goalY=prevNeuron.y+.17,prevNeuron.moving=!0,d[prevNeuron.layer].push(prevNeuron),Y()))}});var addEvent=function(t,a,i){null!=t&&void 0!==t&&(t.addEventListener?t.addEventListener(a,i,!1):t.attachEvent?t.attachEvent("on"+a,i):t["on"+a]=i)};